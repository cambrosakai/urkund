<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN"
	"http://www.springframework.org/dtd/spring-beans.dtd">

<!-- This file generated by Sakai App Builder -AZ -->
<beans>

    <!-- Bring in the HBM related beans beans -->
    <import resource="hibernate-hbms.xml" />

    <!-- Bring in the hibernate related beans -->
    <import resource="spring-hibernate.xml" />

    <bean id="org.sakaiproject.contentreview.impl.urkund.UrkundContentValidator"
          class="org.sakaiproject.contentreview.impl.urkund.UrkundContentValidator"
          init-method="init">
        <property name="serverConfigurationService"
                  ref="org.sakaiproject.component.api.ServerConfigurationService" />
    </bean>

    <!-- create a logic bean, give it the dao from above and some sakai services -->
    <bean
        id="org.sakaiproject.contentreview.service.ContentReviewService"
        class="org.sakaiproject.contentreview.impl.urkund.UrkundReviewServiceImpl"
        init-method="init">
        <property name="dao"
                  ref="org.sakaiproject.contentreview.dao.ContentReviewDao" />
        <property name="toolManager"
                  ref="org.sakaiproject.tool.api.ToolManager" />
        <property name="userDirectoryService"
                  ref="org.sakaiproject.user.api.UserDirectoryService" />
        <property name="contentHostingService"
                  ref="org.sakaiproject.content.api.ContentHostingService" />
        <property name="serverConfigurationService"
                  ref="org.sakaiproject.component.api.ServerConfigurationService" />
        <property name="entityManager"
                  ref="org.sakaiproject.entity.api.EntityManager" />
        <property name="sakaiPersonManager"
                  ref="org.sakaiproject.api.common.edu.person.SakaiPersonManager" />
        <property name="sqlService"
                  ref="org.sakaiproject.db.api.SqlService" />
        <property name="urkundContentValidator"
                  ref="org.sakaiproject.contentreview.impl.urkund.UrkundContentValidator" />
        <property name="siteService" ref="org.sakaiproject.site.api.SiteService" />
        <property name="urkundClient" ref="org.sakaiproject.contentreview.urkund.client.UrkundClient" />
        <property name="securityService" ref="org.sakaiproject.authz.api.SecurityService" />

    </bean>

    <!-- QueuProcessing jobs -->
    <!-- Content review Queue Process -->

    <bean id="UrkundContentReviewQueue"
          class="org.sakaiproject.component.app.scheduler.jobs.ContentReviewQueue">
        <property name="contentReviewService">
            <ref
                bean="org.sakaiproject.contentreview.service.ContentReviewService" />
        </property>
        <property name="sessionManager">
            <ref bean="org.sakaiproject.tool.api.SessionManager" />
        </property>
    </bean>

    <bean
        id="org.sakaiproject.api.app.scheduler.JobBeanWrapper.schedulerContentReviewQueue"
        class="org.sakaiproject.component.app.scheduler.jobs.SpringStatefulJobBeanWrapper"
        singleton="true" init-method="init">
        <property name="beanId">
            <value>UrkundContentReviewQueue</value>
        </property>
        <property name="jobName">
            <value>Process Content Review Queue</value>
        </property>
        <property name="schedulerManager">
            <ref
                bean="org.sakaiproject.api.app.scheduler.SchedulerManager" />
        </property>
    </bean>

    <bean id="UrkundContentReviewReports"
          class="org.sakaiproject.component.app.scheduler.jobs.ContentReviewReports">
        <property name="contentReviewService">
            <ref
                bean="org.sakaiproject.contentreview.service.ContentReviewService" />
        </property>
    </bean>

    <bean
        id="org.sakaiproject.api.app.scheduler.JobBeanWrapper.schedulerContentReviewReports"
        class="org.sakaiproject.component.app.scheduler.jobs.SpringStatefulJobBeanWrapper"
        singleton="true" init-method="init">
        <property name="beanId">
            <value>UrkundContentReviewReports</value>
        </property>
        <property name="jobName">
            <value>Process Content Review Reports</value>
        </property>
        <property name="schedulerManager">
            <ref
                bean="org.sakaiproject.api.app.scheduler.SchedulerManager" />
        </property>
    </bean>

    <!--
        <bean id="org.sakaiproject.contentreview.urkund.client.UrkundClient"
              class="org.sakaiproject.contentreview.urkund.client.UrkundClientMock" >
        </bean>
    --> 
       
    <bean id="org.sakaiproject.contentreview.urkund.client.UrkundClient"
          class="org.sakaiproject.contentreview.urkund.client.UrkundClientImpl" 
          init-method="init" >

        <property name="serverConfigurationService"
                  ref="org.sakaiproject.component.api.ServerConfigurationService" />
        
    </bean>
   
    
</beans>
